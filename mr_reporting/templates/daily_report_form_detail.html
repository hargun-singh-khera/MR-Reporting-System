{% extends 'base.html' %}

{% block body %}
{% include 'header.html' %}

<div class="container-fluid">
  <form method="POST">
    {% csrf_token %}
    <div class="shadow-lg col-md-10 p-4 m-5 bg-body-tertiary rounded mx-auto">
      <div class="mb-3 row align-items-center">
        <label for="employeeName" class="form-label col-md-3">Employee Name</label>
        <div class="col-md-9">
          <input class="form-control" id="employee_name" type="text" value="{{employee_designation.name}}" disabled>
          <input class="form-control" id="employee_name_hidden" name="employee_name" type="hidden" value="{{employee_designation.name}}">
        </div>
      </div>
      <div class="mb-3 row align-items-center">
        <label for="employeeName" class="form-label col-md-3">Designation</label>
        <div class="col-md-9">
            <input class="form-control" id="employee_designation" type="text" value="{{employee_designation.designation}}" disabled>
            <input class="form-control" id="employee_designation_hidden" name="employee_designation" type="hidden" value="{{employee_designation.designation}}">
        </div>
      </div>
      <div class="mb-3 row align-items-center">
        <div class="col-md-4">
            <label for="month" class="form-label">Date of Working</label>
            <input class="form-control" id="date_of_working" type="text" value="{{date}}" disabled>
            <input class="form-control" id="date_of_working_hidden" name="date_of_working" type="hidden" value="{{date}}">
        </div>
        <div class="col-md-4">
            <label for="month" class="form-label">Source Area</label>
            <input class="form-control" id="source_area" type="text" value="{{source_area}}" disabled>
            <input class="form-control" id="source_area_hidden" name="source_area" type="hidden" value="{{source_area}}" >
        </div>
        <div class="col-md-4">
            <label for="month" class="form-label">Destination Area</label>
            <input class="form-control" id="destination_area" type="text" value="{{destination_area}}" disabled>
            <input class="form-control" id="destination_area_hidden" name="destination_area" type="hidden" value="{{destination_area}}">
        </div>
      </div>
      <hr />
      
          <div class="shadow p-3 mb-3 bg-body-tertiary rounded">
              <h5>Doctor Visit</h5>
              <table class="table">
                <thead>
                  <tr>
                    <th scope="col">Name of Doctor</th>
                    <th scope="col">Time in</th>
                    <th scope="col">Time out</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="col-md-4">
                      <select id="doctor" name="doctor" class="form-select" aria-label="Default select example" required>
                          <option value="" selected disabled>Open this select menu</option>
                          {% for doctor in doctors %}
                            <option value="{{doctor.id}}">{{doctor.doctor_name}}</option>
                          {% endfor %}
                        </select>
                    </td>
                    <td><input type="time" class="form-control" id="doctor_arrival_time" name="doctor_arrival_time" required></td>
                    <td><input type="time" class="form-control" id="doctor_departure_time" name="doctor_departure_time" required></td>
                  </tr>
                </tbody>
              </table>
          </div>
          <div class="shadow p-3 mb-3 bg-body-tertiary rounded">
              <h5>Sample Given</h5>
              <table class="table">
                <thead>
                  <tr>
                    <th scope="col">Product Name</th>
                    <th scope="col">Unit</th>
                    <th scope="col">Quantity</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>
                      <select id="product" name="product" class="form-select" aria-label="Default select example" required>
                          <option value="" selected disabled>Open this select menu</option>
                          {% for product in products %}
                            <option value="{{product.id}}">{{product.product}}</option>
                          {% endfor %}
                        </select>
                    </td>
                    <td>
                      <select id="product_unit" name="product_unit" class="form-select" aria-label="Default select example" required>
                          <option value="" selected disabled>Open this select menu</option>
                          {% for unit in units %}
                            <option value="{{unit.id}}">{{unit.unit}}</option>
                          {% endfor %}
                        </select>
                    </td>
                    <td>
                      <input type="number" class="form-control" id="product_qty" name="product_qty" aria-describedby="quantity" min="1" required>
                    </td>
                  </tr>
                </tbody>
              </table>
          </div>
          <div class="shadow p-3 mb-3 bg-body-tertiary rounded">
              <h5>Gift Given</h5>
              <table class="table">
                <thead>
                  <tr>
                    <th scope="col">Gift Name</th>
                    <th scope="col">Unit</th>
                    <th scope="col">Quantity</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>
                      <select id="gift" name="gift" class="form-select" aria-label="Default select example" required>
                          <option value="" selected disabled>Open this select menu</option>
                          {% for gift in gifts %}
                            <option value="{{gift.id}}">{{gift.gift_name}}</option>
                          {% endfor %}
                        </select>
                    </td>
                    <td>
                      <select id="gift_unit" name="gift_unit" class="form-select" aria-label="Default select example" required>
                          <option value="" selected disabled>Open this select menu</option>
                          {% for unit in units %}
                            <option value="{{unit.id}}">{{unit.unit}}</option>
                          {% endfor %}
                        </select>
                    </td>
                    <td>
                      <input type="number" class="form-control" id="gift_qty" name="gift_qty" aria-describedby="quantity" min="1" required>
                    </td>
                  </tr>
                </tbody>
              </table>
          </div>
          <div class="shadow p-3 mb-3 bg-body-tertiary rounded">
              <h5>Stockist Visited</h5>
              <table class="table">
                <thead>
                  <tr>
                    <th scope="col">Stockist Name</th>
                    <th scope="col">Time in</th>
                    <th scope="col">Time out</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="col-md-4">
                      <select id="stockist" name="stockist" class="form-select" aria-label="Default select example" required>
                          <option value="" selected disabled>Open this select menu</option>
                          {% for stockist in stockists %}
                            <option value="{{stockist.id}}">{{stockist.stockist_name}}</option>
                          {% endfor %}
                        </select>
                    </td>
                    <td><input type="time" class="form-control" id="stockist_arrival_time" name="stockist_arrival_time" required></td>
                    <td><input type="time" class="form-control" id="stockist_departure_time" name="stockist_departure_time" required></td>
                  </tr>
                </tbody>
              </table>
          </div>
          <hr />
          <a href="{% url 'daily_report_form' %}?employee_id=employee_id"><button type="submit" class="btn btn-success w-100">Submit</button></a>  
        </form>
    </div>
  </div>
  <script>
    function getCurrentUrl() {
        return window.location.origin + window.location.pathname;
    }
    function employeefield() {
        var employeeId = document.getElementById('employee').value;
        window.location = getCurrentUrl() + "?employee=" + employeeId;
    }
  </script>
{% endblock body %}